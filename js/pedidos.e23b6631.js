"use strict";(self["webpackChunkmake_your_burguer"]=self["webpackChunkmake_your_burguer"]||[]).push([[550],{692:function(e,s,a){a.d(s,{Z:function(){return c}});var i=a(252),t=a(577);function o(e,s,a,o,d,n){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("p",{class:(0,t.C_)(e.classe)},(0,t.zw)(e.msg),3)])}var d=(0,i.aZ)({name:"MessageOrder",props:{msg:String,classe:String}}),n=a(744);const r=(0,n.Z)(d,[["render",o],["__scopeId","data-v-27f42038"]]);var c=r},702:function(e,s,a){a.r(s),a.d(s,{default:function(){return M}});var i=a(252);const t=e=>((0,i.dD)("data-v-7a8f3380"),e=e(),(0,i.Cn)(),e),o={class:"main-container"},d=t((()=>(0,i._)("h1",null,"Gerenciar pedidos",-1)));function n(e,s,a,t,n,r){const c=(0,i.up)("Dashboard");return(0,i.wg)(),(0,i.iD)("div",o,[d,(0,i.Wm)(c)])}var r=a(963),c=a(577);const u=e=>((0,i.dD)("data-v-c3819c76"),e=e(),(0,i.Cn)(),e),l={key:0,id:"burger-table"},g=(0,i.uE)('<div data-v-c3819c76><div id="burger-table-heading" data-v-c3819c76><div class="order-id" data-v-c3819c76>Nº</div><div data-v-c3819c76>Cliente</div><div class="order-info" data-v-c3819c76>Pão</div><div class="order-info" data-v-c3819c76>Carne</div><div class="order-info-small" data-v-c3819c76>Pão/Carne</div><div class="order-info-small" data-v-c3819c76>Opcionais</div><div data-v-c3819c76>Ações</div></div></div>',1),v={id:"burger-table-rows"},m={class:"order-number"},p={class:"order-info"},h={class:"order-info"},w={class:"order-info-small"},_=["onChange"],b=["value","selected"],f=["onClick"],y={key:1},P=u((()=>(0,i._)("h2",null,"Não há pedidos no momento!",-1))),D=[P];function C(e,s,a,t,o,d){const n=(0,i.up)("Message");return e.pedidos?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.wy)((0,i.Wm)(n,{msg:e.msg.toString(),classe:e.tipoMsg.toString()},null,8,["msg","classe"]),[[r.F8,e.msg]]),g,(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.pedidos,(s=>((0,i.wg)(),(0,i.iD)("div",{class:"burger-table-row",key:s.id},[(0,i._)("div",m,(0,c.zw)(s.id),1),(0,i._)("div",null,(0,c.zw)(s.nome),1),(0,i._)("div",p,(0,c.zw)(s.pao),1),(0,i._)("div",h,(0,c.zw)(s.carne),1),(0,i._)("div",w,[(0,i._)("ul",null,[(0,i._)("li",null,(0,c.zw)(s.pao),1),(0,i._)("li",null,(0,c.zw)(s.carne),1)])]),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.opcionais,((e,s)=>((0,i.wg)(),(0,i.iD)("ul",{key:s},[(0,i._)("li",null,(0,c.zw)(e),1)])))),128))]),(0,i._)("div",null,[(0,i._)("select",{name:"status",class:"status",onChange:a=>e.updatePedido(a,s.id)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.status,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.tipo,key:e.id,selected:s.status==e.tipo},(0,c.zw)(e.tipo),9,b)))),128))],40,_),(0,i._)("button",{class:"delete-btn",onClick:a=>e.deletePedido(s.id)}," Cancelar ",8,f)])])))),128))])])):((0,i.wg)(),(0,i.iD)("div",y,D))}var k=a(692),z=(0,i.aZ)({name:"Dashboard",components:{Message:k.Z},data(){return{pedidos:[],pedido:{},status:[],msg:"",tipoMsg:"message-container"}},methods:{async getPedidos(){const e=await fetch("https://my-json-server.typicode.com/Paulogsiqueira/HamburgueriaJson/burguers"),s=await e.json();this.pedidos=s,console.log(this.pedidos),this.getStatus()},async deletePedido(e){const s=await fetch(`https://my-json-server.typicode.com/Paulogsiqueira/HamburgueriaJson/burguers/${e}`,{method:"DELETE"});await s.json();this.msg="Pedido removido com sucesso!",setTimeout((()=>{this.msg=""}),3e3),this.getPedidos()},async updatePedido(e,s){const a=e.target,i=a.value,t=JSON.stringify({status:i});console.log(i);const o=await fetch(`https://my-json-server.typicode.com/Paulogsiqueira/HamburgueriaJson/burguers/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:t}),d=await o.json();this.msg=`Pedido Nº ${d.id} foi atualizado para ${d.status}!`,setTimeout((()=>{this.msg=""}),3e3)},async getStatus(){const e=await fetch("https://my-json-server.typicode.com/Paulogsiqueira/HamburgueriaJson/status"),s=await e.json();this.status=s}},mounted(){this.getPedidos()}}),j=a(744);const H=(0,j.Z)(z,[["render",C],["__scopeId","data-v-c3819c76"]]);var Z=H,S=(0,i.aZ)({name:"PedidosBurguer",components:{Dashboard:Z}});const J=(0,j.Z)(S,[["render",n],["__scopeId","data-v-7a8f3380"]]);var M=J}}]);
//# sourceMappingURL=pedidos.e23b6631.js.map